<?xml version="1.0"?>
<document>
    <properties>
        <title>Installing 2.1 wars distribution</title>
        <author email="fgiust(at)users.sourceforge.net">Fabrizio Giustina</author>
    </properties>
    <body>
        <section name="Installing 2.1 war-file distribution">
            <p>
                The war-file distribution contains 2 war files, magnoliaPublic and magnoliaAdmin, which you can deploy
                to an existing application server. The two war files are identical except for the different
                preloaded configuration (the xml files in the
                <code>bootstrap</code>
                directory.
            </p>
            <subsection name="Prerequisites">
                <p>
                    You will need a servlet container which support the servlets 2.4/jsp 2.0 spec. The suggested server
                    is Tomcat 5/5.5, but you can choose a different application server if you wish.
                </p>
                <p>
                    <strong>
                        Warning: since bootstrapping could require a large amount of memory, be sure to set the maximum
                        memory available to the server to at least 256MB (usually passing the -Xmx256m parameter to the
                        java process). If an OutOfMemory error pops up in the console during the bootstrap process you
                        will need to remove the magnolia webapp and redeploy it since bootstrap will not be repeated if
                        a partial repository has already been loaded. This need to be done BEFORE deploying the wars.
                    </strong>
                </p>
            </subsection>
            <subsection name="Installing and testing the installation">
                <p>
                    Install both wars (this is usually done by copying the files to the
                    <code>webapps</code>
                    directory of your server).
                </p>
                <p>
                    Also note that Magnolia requires to be unzipped in order to work properly. Most of the application
                    server automatically unzip wars while deploying them: if you run Magnolia on an application server
                    which is able to run zipped wars you will need to unpack it manually.
                </p>
                <p>
                    After starting the server, open your favorite browser and go to http://[server name]:[port]/[war
                    name]. That means, for a default installation, http://localhost:8080/magnolia. You should see a
                    login prompt, use
                    <code>superuser</code>
                    as login/password and welcome to the magnolia admin interface.
                </p>
                <p>
                    If you can't see anything probably the bootstrap process failed. Check you server logs for errors,
                    the most common reason for a failure is an OutOfMemory error during bootstrap.
                </p>
            </subsection>
        </section>
    </body>
</document>
