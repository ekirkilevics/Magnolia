<?xml version="1.0" encoding="UTF-8"?>
<document>
    <properties>
        <title>Development environment setup using eclipse and WTP</title>
    </properties>
    <body>
        <section name="Development environment setup using eclipse and WTP">
            <subsection name="Installing eclipse and required plugins">
                <p>
                    First of all, you will need to install <a href="http://www.eclipse.org/downloads/index.php">Eclipse 3.1 </a>. Then you have to install the Eclipse Web Tools Project (WTP) and its prerequisites by following the steps <a href="http://www.eclipse.org/webtools/development/updatesite/updatesite.html">here</a>.
                </p>
                <p>
                    Once installed, start Eclipse and install the subversion plugin using the eclipse update manager:
                    <ol>
                        <li>Help - Software updates - Find and install</li>
                        <li>Select "Search for new features to install"</li>
                        <li>Click "New remote site" and add the url http://subclipse.tigris.org/update/</li>
                        <li>Click "New remote site" again and add the url http://tmate.org/svn/</li>
                        <li>Check the newly added sites and go on with the installation. You will need to restart
                            eclipse after it is done.
                        </li>
                    </ol>
                </p>
            </subsection>
            <subsection name="Checkout magnolia from subversion">
                <ol>
                    <li>Select Window / Open Perspective / Other.. / SVN Repository Exploring</li>
                    <li>
                        Add the repository (the url is
                        <code>http://svn.magnolia.info/svn/magnolia</code>
                        )
                    </li>
                    <li>
                        click with the right mouse button on the /trunk directory and select "checkout as a project".
                        This will create a simple (non java) project in your workspace.
                    </li>
                </ol>
            </subsection>
            <subsection name="Register a Tomcat Server">
                Register a 5.5 Tomcat Server runtime
                <ol>
                    <li>Open the J2EE Perspective</li>
                    <li>Right click in the Server tab</li>
                    <li>Register your tomcat installation</li>
                </ol>
            </subsection>
            <subsection name="Convert the non Java Project to a Dynamic Web Project">
                <ol>
                    <li>Register the classpath variable MAVEN_REPO. It must point to the maven repository (Preferences /
                        Java /Build Path / Classpath variables)
                    </li>
                    <li>Close Eclipse</li>
                    <li>Run the maven eclipse goal in your magnolia directory <code>maven eclipse</code></li>
                    <li>This creates all the project files needed for the WTP plugin</li>
                    <li>Open Eclipse and refresh the project</li>
                </ol>
            </subsection>
            <subsection name="Running the server">
                Compile the magnolia project, then:
                <ol>
                    <li>Switch to the J2EE perspective by selecting Window / Open Perspective / Other.. / J2EE</li>
                    <li>Expand the "dynamic web projects" category, you should see the magnolia project there</li>
                    <li>Right click magnolia and select "run on server". Select the installed tomcat runtime.</li>
                </ol>
            </subsection>
        </section>
    </body>
</document>