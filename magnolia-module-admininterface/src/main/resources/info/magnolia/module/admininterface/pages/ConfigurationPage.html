<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Server configuration page</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="${this.request.contextPath}/.resources/admin-css/admin-all.css" type="text/css" rel="stylesheet" />
  </head>
  <body id="mgnl" class="mgnlBgLight">
    <h1>Server configuration page</h1>
    <h3>General Magnolia Server Data</h3>
    <table summary="Server data">
      <thead>
        <tr>
          <th scope="col">Configuration</th>
          <th scope="col">Value</th>
        </tr>
      </thead>
        [#comment] uptime was giving wrong figures since 3.5  / see MAGNOLIA-1821
      <tr>
        <td>Server up since...</td>
        <td>${this.server.getUptime()}</td>
      </tr>
        [/#comment]
      <tr>
        <td>Is admin server: </td>
        <td>${this.server.isAdmin()?string}</td>
      </tr>
    </table>
    <h3>General Magnolia System Data</h3>
    <table summary="System data">
      <thead>
        <tr>
          <th scope="col">Configuration</th>
          <th scope="col">Value</th>
        </tr>
      </thead>
        [#assign keys = this.systemProperties?keys]
        [#list keys as key]
      <tr>
        <th align="left" scope="row">${key}</th>
        <td>${this.systemProperties[key]}</td>
      </tr>
      [/#list]
    </table>
    <h3>Virtual URIs</h3>
    <table cellspacing="0" summary="Virtual URIs">
      <thead>
        <tr>
          <th scope="col">Mapping</th>
        </tr>
      </thead>

      [#list this.virtualUriMappings as mapping]
      <tr>
        <td>${mapping}</td>
      </tr>
      [/#list]
    </table>
  </body>
</html>