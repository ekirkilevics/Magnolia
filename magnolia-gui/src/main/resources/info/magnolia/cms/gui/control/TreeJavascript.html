<script type="text/javascript">
	// create tree instance
	var ${tree.javascriptTree}=new mgnlTree(
		'${tree.repository}',
		'${tree.path}',
		'${tree.javascriptTree}',
		${tree.height},
		'${tree.name}',
		${tree.browseMode?string}
	);
	
	// register the control
	mgnlTreeControls['${tree.javascriptTree}']=${tree.javascriptTree};
	
	// add the columns
	<#list columns as tc>
		${tree.javascriptTree}.columns[${columns?seq_index_of(tc)}]=new mgnlTreeColumn(
			${tc.width},
			'${tc.htmlEdit}',
			'${tc.name?default('')}',
			${tc.isMeta?string},
			${tc.isLabel?string},
			${tc.isNodeDataValue?string},
			${tc.isNodeDataType?string}
		);
	</#list>
	
	
	${tree.javascriptTree}.selectNode('${tree.pathSelected?default("")}');
	
	<#if menu?exists && (menu.menuItems?size >0)>
		${menu.javascript}
	</#if>

	// make the menu avaiable for the tree control
	${tree.javascriptTree}.menu = ${menu.name};
</script>