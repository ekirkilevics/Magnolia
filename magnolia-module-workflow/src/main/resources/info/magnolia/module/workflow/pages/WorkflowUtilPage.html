<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Workflows</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="${this.request.contextPath}/.resources/admin-css/admin-all.css" type="text/css" rel="stylesheet" />
  </head>
  <body id="mgnl">
    [#if this.result?exists]
    <div class="pageframe">
      <pre>${this.result}</pre>
    </div>
    [/#if]
    <div class="pageframe">
      <h3>Flow list</h3>
      <ul>
        [#list this.flowList as item]
        <li>
          <a href="?command=showFlow&amp;flowName=${item}">${item}</a>
        </li>
        [/#list]
      </ul>
    </div>
    <div class="pageframe">
      <h3>Flow upload</h3>
      <form action="${contextPath}${ctx.aggregationState.originalURI}" method="post">
        <input type="hidden" name="command" value="upload" />
        <textArea cols="80" rows="20" name="flow">${this.flow}</textArea>
        <br />
        <input type="submit" value="upload"></input>
      </form>
    </div>
    <!--
    <div class="pageframe">
      <h3>Set date for node</h3>
      <form action="" method="get">
        <input type="hidden" name="command" value="updateDate" />
        <div class="formelement">
          <label for="path">path:</label>
          <input name="path" />
        </div>
        <div class="formelement">
          <label for="startDate">start date:</label>
          <input name="startDate" value="${this.currentTimeStamp}" />
        </div>
        <div class="formelement">
          <label for="stopDate">stop date:</label>
          <input name="stopDate" value="${this.currentTimeStamp}" />
        </div>
        <input type="submit" value="submit"></input>
      </form>
    </div>
    -->
    <div class="pageframe">
      <h3>Launch flow</h3>
      <form action="${contextPath}${ctx.aggregationState.originalURI}" method="post">
        <input type="hidden" name="command" value="launchFlow" />
        Flow name:
        <select name="flowName">
          [#list this.flowList as item]
          <option>${item}</option>
          [/#list]
        </select>
        Path:
        <input name="path" />
        Repository name:
        <input name="repository" />
        <br />
        <input type="submit" value="submit"></input>
      </form>
    </div>
    <!--
    <div class="pageframe">
      <h3>Set date for node</h3>
      <form action="" method="get">
        <input type="hidden" name="command" value="doQuery" />
        query string:
        <input name="query"></input>
        <br />
        <input type="submit" value="query"></input>
      </form>
    </div>
    -->
  </body>
</html>