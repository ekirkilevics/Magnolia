# 
# Some notes about building Magnolia 
# (on Debian GNU/Linux from the command line)
# 
# john dot mettraux at openwfe dot org
# Fri Oct 13 14:18:10 JST 2006
# 


The build command is :

    mvn clean install

and not "mvn war" as advertised on the web site.




To make things smoother :


* make sure to remove any gcj binding (as root do) :

  # rm /usr/bin/java*


* make sure to set your JAVA_HOME correctly

  $ export JAVA_HOME=/path/to/your/java


* the maven build process will call the 'java' command so you have
  to make sure that your PATH points to the right 'java'

  $ export PATH=$PATH:$JAVA_HOME/bin/

  (you have to make sure there's no other 'java_home bin' in your PATH)


* if for some reason, a test suite doesn't run, erase its test/ dir
  (dirty workaround but may spare you time)


* sometimes only a Java 5 will do for building. Apart from the steps 
  just listed, you have to modify the pom.xml to make it point
  to java 5 :

---8<---
      <plugin>
        <artifactId>maven-compiler-plugin</artifactId>
        <configuration>
          <source>1.5</source>
          <target>1.5</target>
        </configuration>
        <executions>
          <execution>
            <id>compile-tests</id>
            <phase>process-test-sources</phase>
            <goals>
              <goal>testCompile</goal>
            </goals>
            <configuration>
              <source>1.5</source>
              <target>1.5</target>
            </configuration>
          </execution>
        </executions>
      </plugin>
--->8---




For more help, the user mailing list is accessible from :

    http://magnolia.sourceforge.net/30/lists/user-list.html

