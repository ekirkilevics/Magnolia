<?xml version="1.0" encoding="UTF-8"?>
<document>
    <properties>
        <title>Building a page template</title>
    </properties>
    <body>
        <section name="Building a page template">
            <p>
            	A Web page is based on a so called "Page Template". In a dynamic world (like a CMS) the Template
            	consists of a server side script, which is executed and the result is returned to the Client.
            	The "Quickstart Template" we have created refers to
            	<p>
            		templates/jsp/quickstart/main.jsp
            	</p>
            	This path/file has been defined in the previous section. The "templates/jsp/quickstart" directory 
            	can contain several "templates" (meaning: several template scripts), since any template can include 
            	other templates (e.g. "main.jsp" can include templates like "navigation.jsp", "content.jsp", etc.).
            </p>
            <p>
            	<strong>
            		WARNING: even though this file is in UTF8, be warned that template directories and names 
            		must be in ASCII.
            	</strong>
            </p>
            <p>
            	What does a page template look like? First of all, we use JSP to define the layout of the page. Second 
            	we have defined a number of tags that will make your life easier (more about this later).
            </p>
            <p>
            	So lets get started. Let us line up that text editor and enter the magic words:
            </p>
            <source>
<![CDATA[<%@ taglib uri="cms-taglib" prefix="cms" %>
<%@ taglib uri="cms-util-taglib" prefix="cmsu" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>]]>
            </source>
            <p>
            	This will include the standard (JSTL) and magnolia tab-libraries.
            </p>
            <p>
            	Now lets start the HTML and HEAD.
            </p>
            <source>
<![CDATA[<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
  <head>
    <title>
      <cms:out nodeDataName="title" />
    </title>
  </head>
</html>]]>
            </source>
            <p>
            	When creating a new Web Page you define a "title" as well. This property is available for every 
            	Web page you create. We get the content of property "title" with the cms-tag "out"..
            </p>
            <p>
            	On we move with the BODY:
            </p>
<![CDATA[... (continued) ...
<body bgcolor="#ffffff" >
    <cms:mainBar paragraph="samplesPageProperties" />
    <br><h2>Hello World</h2></br>
  </body>
</html>]]>     
	    <p>
	    	Let us save the file in the template directory (in this case "templates/jsp/quickstart/main.jsp"). 
	    	You will need to create the directory first, as it is completely up to you how you name your templates, 
	    	and "quickstart" is just an example for the purpose of this tutorial. 
	    </p>   
	    <p>
	    	There is no need to restart Tomcat if you create or change jsp files.<br/>
	    	Create a new Web page, choose the freshly defined template, and view the result (by clicking on the 
	    	newly created page). Here we have our first working web page template, containing the Magnolia-specific 
	    	"Main Bar" and our message to the world.
	    </p>
	    <p>
	    	<img src="images/magnolia_quickstartWebPage.jpg" />
	    </p>
	    <p>
	    	Congratulations! You have just created your first working template in Magnolia.
	    </p>
            
            
        </section>

    </body>
</document>


