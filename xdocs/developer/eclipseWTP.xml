<?xml version="1.0" encoding="UTF-8"?>
<document>
    <properties>
        <title>Development environment setup using eclipse and WTP</title>
    </properties>
    <body>
        <section name="Development environment setup using eclipse and WTP">
            <subsection name="Installing eclipse and required plugins">
                <p>
                    First of all, you will need to install WTP 0.7 with Eclipse 3.1 and its prerequisites: you can
                    download a full package from
                    <a href="http://download.eclipse.org/webtools/downloads/drops/R-0.7-200507290654/">
                        http://download.eclipse.org/webtools/downloads/drops/R-0.7-200507290654/
                    </a>
                    . Note that this how to will not work for previous WTP versions.
                </p>
                <p>
                    Once installed, start Eclipse and install the subversion plugin using the eclipse update manager:
                    <ol>
                        <li>Help - Software updates - Find and install</li>
                        <li>Select "Search for new features to install"</li>
                        <li>Click "New remote site" and add the url http://subclipse.tigris.org/update/</li>
                        <li>Click "New remote site" again and add the url http://tmate.org/svn/</li>
                        <li>
                            Check the newly added sites and go on with the installation. You will need to restart
                            eclipse after done
                        </li>
                    </ol>
                </p>
            </subsection>
            <subsection name="Checkout magnolia from subversion">
                <ol>
                    <li>Select Window / Open Perspective / Other.. / SVN Repository Exploring</li>
                    <li>
                        Add the repository (the url is
                        <code>http://svn.magnolia.info/svn/magnolia</code>
                        )
                    </li>
                    <li>
                        click with the right mouse button on the /trunk directory and select "checkout as a project".
                        This will create a simple (non java) project in your workspace.
                    </li>
                </ol>
            </subsection>
            <subsection name="Register a Tomcat Server">
                Register a 5.5 Tomcat Server runtime
                <ol>
                    <li>Open the J2EE Perspective</li>
                    <li>right click in the Server tab</li>
                    <li>register your tomcat installation</li>
                </ol>
            </subsection>
            <subsection name="Convert the non Java Project to a Dynamic Web Project">
                <ol>
                    <li>
                        register the classpath variable MAVEN_REPO. It must point to the maven repository (Preferences /
                        Java /Build Path / Classpath variables)
                    </li>
                    <li>close Eclipse</li>
                    <li>use the command: maven eclipse</li>
                    <li>this creates all the project files needed for the WTP plugin</li>
                    <li>open Eclipse and refresh the project</li>
                </ol>
            </subsection>
            <subsection name="Running the server">
                Compile the magnolia project, then:
                <ol>
                    <li>Switch to the J2EE perspective by selecting Window / Open Perspective / Other.. / J2EE</li>
                    <li>Expand the "dynamic web projects" category, you should see the magnolia project there</li>
                    <li>Right click magnolia and select "run on server". Select the installed tomcat runtime.</li>
                </ol>
            </subsection>
        </section>
    </body>
</document>